var B=Object.defineProperty;var h=(o,e)=>B(o,"name",{value:e,configurable:!0});import{u as b,E as I,v as T,L as S,a as F,s as C,e as N,m as P,C as R,A as j,w as p,b as a,c as i,d as l}from"./index.5bf0c98d.js";import{L as w,B as k}from"./index.72c0b153.js";import{H as A}from"./index.76c1bd6e.js";import{T as x}from"./index.d071bbf5.js";import{T as n}from"./index.50a7652b.js";import{C as g}from"./index.7be1c89e.js";import{B as D}from"./index.4c3ee59a.js";import{r as H}from"./index.9b36090b.js";import{F as L}from"./index.bf2009c8.js";import{a as r,F as v,j as t}from"./jsx-runtime.0e180f0c.js";import"./IconBase.esm.e1a74b5a.js";import"./clsx.m.256e9345.js";import"./iframe.719c0e88.js";import"./index.c21e35e3.js";import"./index.6deb9416.js";import"./es.map.constructor.1a24d23d.js";import"./index.bc64e718.js";import"./extends.946277fc.js";import"./index.bb73c7b2.js";import"./index.05fc7f5f.js";import"./index.module.186380f1.js";import"./index.7a0decc5.js";function q(){const[o,e]=H.exports.useState(!1),{watch:m,handleSubmit:d,register:s,setValue:E,formState:{errors:z}}=b({shouldFocusError:!0,defaultValues:{email:"",password:"",remember:!1}});return r(v,{children:[t(x,{size:"lg",className:"text-gray-400 mt-1",children:"Fa\xE7a login e comece a usar!"}),r("form",{onSubmit:d(h(async({...c})=>{var y,f;try{const{data:u}=await F.post("/sessions",{...c});u.success===!0&&(e(!0),C(u.message))}catch(u){N(((f=(y=u.response)==null?void 0:y.data)==null?void 0:f.message)||"Erro durante a autentica\xE7\xE3o, tente novamente!")}},"onSubmit")),className:"flex flex-col items-stretch w-full max-w-sm mt-10 gap-4",children:[r("label",{htmlFor:"email",className:"flex flex-col gap-3",children:[t(x,{className:"font-semibold",size:"md",children:"Endere\xE7o de e-mail"}),r(n.Root,{children:[t(n.Icon,{children:t(I,{})}),t(n.Input,{id:"email",placeholder:"johndoe@example.com",autoComplete:"off",register:()=>s("email",{required:!0,validate:{isValidMail:c=>T.validateEmail(c)||"Insira um e-mail v\xE1lido"}})})]})]}),r("label",{htmlFor:"password",className:"flex flex-col gap-3",children:[t(x,{className:"font-semibold",size:"md",children:"Sua senha"}),r(n.Root,{children:[t(n.Icon,{children:t(S,{})}),t(n.Input,{type:"password",id:"password",placeholder:"**********",register:()=>s("password",{required:!0})})]})]}),t("label",{htmlFor:"remember",className:"mt-4",children:r(g.Root,{children:[t(g.Input,{id:"remember",register:()=>s("remember"),onCheckedChange:c=>E("remember",Boolean(c))}),t(g.Text,{children:"Lembrar de mim por 30 dias"})]})}),t(D,{className:"mt-8",type:"submit",children:"Entrar na plataforma"})]}),r(L,{children:[t(w,{routerContext:!0,to:"/",className:"blur-[0.7px] pointer-events-none cursor",children:"Esqueceu sua senha?"}),t(w,{routerContext:!0,to:"/register",children:"N\xE3o possui conta? Crie uma agora!"})]})]})}h(q,"SignIn");const ce={title:"Pages/Sign In",component:q,args:{},argTypes:{},parameters:{msw:{handlers:[P.handlers.login]}},decorators:[o=>t(v,{children:t(k,{children:r(R,{children:[t(j,{}),t(A,{}),o()]})})})]},de={},ue={name:"Simulate successful authentication",play:async({canvasElement:o})=>{const e=p(o);a.type(e.getByPlaceholderText("johndoe@example.com"),"validuser@user.com"),a.type(e.getByPlaceholderText("**********"),"validpassword"),a.click(e.getByRole("button")),await i(()=>l(e.getByText("Usu\xE1rio autenticado com sucesso!")).toBeInTheDocument())}},pe={name:"Simulate authentication attempt with invalid credentials",play:async({canvasElement:o})=>{const e=p(o);a.type(e.getByPlaceholderText("johndoe@example.com"),"johndoe@example.com"),a.type(e.getByPlaceholderText("**********"),"12345678"),a.click(e.getByRole("button")),await i(()=>l(e.getByText("Credenciais inv\xE1lidas!")).toBeInTheDocument())}},he={name:"Simulate authentication attempt with empty field(s)",play:async({canvasElement:o})=>{const e=p(o),m=e.getByPlaceholderText("johndoe@example.com"),d=e.getByPlaceholderText("**********"),s=e.getByRole("button");a.click(s),await i(()=>l(m).toHaveFocus()),a.type(m,"johndoe@example.com"),a.click(s),await i(()=>l(d).toHaveFocus()),a.type(d,"validpassword"),a.clear(m),await i(()=>l(m).toHaveFocus())}},xe={name:"Simulate authentication attempt when the API is possibly down",play:async({canvasElement:o})=>{const e=p(o);a.type(e.getByPlaceholderText("johndoe@example.com"),"validuser@user.com"),a.type(e.getByPlaceholderText("**********"),"validpassword"),a.click(e.getByRole("button")),await i(()=>l(e.getByText("Erro durante a autentica\xE7\xE3o, tente novamente!")).toBeInTheDocument())},parameters:{msw:{handlers:[]}}},ge=["Default","SuccessfulRegistration","InvalidCredentials","EmptyFields","NoAPIResponse"];export{de as Default,he as EmptyFields,pe as InvalidCredentials,xe as NoAPIResponse,ue as SuccessfulRegistration,ge as __namedExportsOrder,ce as default};
//# sourceMappingURL=SignIn.stories.3771b3cb.js.map
